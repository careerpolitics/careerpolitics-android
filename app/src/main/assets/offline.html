<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CareerPolitics • Offline</title>
    <style>
        :root {
            /* Light theme (matches Compose LightColors) */
            --primary: #6650A4;   /* PrimaryLight */
            --secondary: #7D5260; /* TertiaryLight used as accent */
            --bg: #FFFFFF;        /* BackgroundLight */
            --surface: #F3EDF7;   /* SurfaceLight */
            --on-bg: #1C1B1F;     /* OnBackgroundLight */
            --on-surface: #1C1B1F;/* OnSurfaceLight */
        }

        @media (prefers-color-scheme: dark) {
            :root {
                /* Dark theme (matches Compose DarkColors) */
                --primary: #D0BCFF;   /* PrimaryDark */
                --secondary: #EFB8C8; /* TertiaryDark as accent */
                --bg: #1C1B1F;        /* BackgroundDark */
                --surface: #1C1B1F;   /* SurfaceDark */
                --on-bg: #E6E1E5;     /* OnBackgroundDark */
                --on-surface: #E6E1E5;/* OnSurfaceDark */
            }
        }

        html, body { height: 100%; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 24px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--on-surface);
        }

        .container {
            text-align: center;
            max-width: 460px;
            width: 100%;
            background: color-mix(in oklab, var(--surface) 92%, transparent);
            padding: 40px 32px;
            border-radius: 20px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.18);
        }

        .brand {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .logo {
            width: 64px;
            height: 64px;
        }

        .app-name {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 0.3px;
            color: var(--on-surface);
        }

        h1 {
            margin: 12px 0 8px 0;
            font-size: 22px;
            font-weight: 700;
            color: var(--on-surface);
        }

        p {
            margin: 0 0 24px 0;
            font-size: 16px;
            line-height: 1.55;
            color: color-mix(in oklab, var(--on-surface) 82%, transparent);
        }

        .retry-btn {
            background: var(--primary);
            border: none;
            color: #FFFFFF;
            padding: 12px 20px;
            border-radius: 999px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.18);
        }

        .retry-btn:hover { transform: translateY(-1px); }
        .retry-btn:active { transform: translateY(0); opacity: 0.9; }

        .status {
            margin-top: 16px;
            font-size: 14px;
            color: color-mix(in oklab, var(--on-surface) 66%, transparent);
        }

        .hidden { display: none; }
    </style>
</head>
<body>
<div class="container">
    <div class="brand">
        <!-- Inline SVG logo styled with app colors to work fully offline -->
        <svg class="logo" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
            <defs>
                <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0%" stop-color="var(--primary)" />
                    <stop offset="100%" stop-color="var(--secondary)" />
                </linearGradient>
            </defs>
            <circle cx="32" cy="32" r="30" fill="url(#g)" />
            <text x="50%" y="54%" text-anchor="middle" font-size="26" font-weight="800" font-family="ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif" fill="#FFFFFF">CP</text>
        </svg>
        <div class="app-name">CareerPolitics</div>
    </div>

    <h1>No Internet Connection</h1>
    <p>You're currently offline. Check your connection and try again.</p>

    <button class="retry-btn" onclick="retryConnection()">
        <span aria-hidden="true">↻</span>
        <span>Retry Connection</span>
    </button>
    <div class="status" id="status">Checking connection…</div>
</div>

<script>
    function retryConnection() {
        const status = document.getElementById('status');
        if (!status) return;
        status.textContent = 'Checking connection…';

        // Try to load a small resource to test connectivity
        const testImage = new Image();
        testImage.onload = function () {
            status.textContent = 'Connection restored! Redirecting…';
            setTimeout(() => {
                if (window.AndroidWebViewBridge && window.AndroidWebViewBridge.loadUrl) {
                    window.AndroidWebViewBridge.loadUrl('https://careerpolitics.com/');
                } else {
                    window.location.href = 'https://careerpolitics.com/';
                }
            }, 800);
        };
        testImage.onerror = function () {
            status.textContent = 'Still offline. Please check your connection.';
        };
        testImage.src = 'https://careerpolitics.com/favicon.ico?' + Date.now();
    }

    // Auto-retry every 30 seconds
    setInterval(retryConnection, 30000);
    // Initial check
    setTimeout(retryConnection, 1400);
</script>
</body>
</html>
